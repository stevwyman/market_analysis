{% extends "data/layout.html" %}
{% load static %}

{% block body %}
{{ security.name }}

<div class="container">
  <div class="row">
    <div id="chart"></div>
  </div>
</div>

<div>
  <a href="{% url 'history_update' security.id %}">update daily</a>
</div>


<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<script>

  var options = {
    chart: {
      type: 'candlestick'
    },
    series: [{
      data: 
        {{ full_data|safe }}
      
    }],
    xaxis: {
          type: 'datetime'
        }

  }

  var chart = new ApexCharts(document.querySelector("#chart"), options);
  chart.render();

</script>


{% endblock %}